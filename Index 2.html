<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JK Projects</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .flow-box {
      border-left: 4px solid #3b82f6;
      padding-left: 10px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-900">
  <div class="max-w-4xl mx-auto p-4">
    <h1 class="text-3xl font-bold mb-4 text-center">JK Projects</h1><!-- Form -->
<div class="bg-white p-4 rounded-xl shadow mb-6">
  <h2 class="text-xl font-semibold mb-2">Add New Project</h2>
  <input id="title" placeholder="Project Title" class="w-full p-2 border mb-2 rounded" />
  <textarea id="description" placeholder="Project Description" class="w-full p-2 border mb-2 rounded"></textarea>
  <input id="bannerUrl" placeholder="Banner URL (optional)" class="w-full p-2 border mb-2 rounded" />
  <input id="iconUrl" placeholder="Icon URL (optional)" class="w-full p-2 border mb-2 rounded" />
  <select id="status" class="w-full p-2 border mb-2 rounded">
    <option>Not Started</option>
    <option>In Progress</option>
    <option>Completed</option>
  </select>
  <button onclick="addProject()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Add Project</button>
</div>

<!-- Projects List -->
<div id="projectList"></div>

  </div>  <script>
    let projects = JSON.parse(localStorage.getItem("jk-projects")) || [];

    function saveProjects() {
      localStorage.setItem("jk-projects", JSON.stringify(projects));
    }

    function renderProjects() {
      const list = document.getElementById("projectList");
      list.innerHTML = "";
      if (projects.length === 0) {
        list.innerHTML = '<p class="text-center text-gray-500">No projects yet.</p>';
        return;
      }
      projects.forEach((proj, i) => {
        list.innerHTML += `
          <div class="bg-white p-4 mb-4 rounded-xl shadow">
            <div class="flex items-center gap-4 mb-2">
              ${proj.iconUrl ? `<img src="${proj.iconUrl}" alt="icon" class="w-10 h-10 rounded-full">` : ''}
              <h3 class="text-lg font-bold">${proj.title}</h3>
            </div>
            <p class="text-sm text-gray-700 mb-1">${proj.description}</p>
            <p class="text-sm italic mb-2">Status: ${proj.status}</p>
            <div class="flex gap-2">
              <button onclick="openProject(${i})" class="bg-green-600 text-white px-3 py-1 rounded">Open</button>
              <button onclick="deleteProject(${i})" class="bg-red-500 text-white px-3 py-1 rounded">Delete</button>
            </div>
          </div>
        `;
      });
    }

    function addProject() {
      const title = document.getElementById("title").value.trim();
      const description = document.getElementById("description").value.trim();
      const status = document.getElementById("status").value;
      const bannerUrl = document.getElementById("bannerUrl").value.trim();
      const iconUrl = document.getElementById("iconUrl").value.trim();

      if (!title) return alert("Please enter a title.");
      projects.push({ title, description, status, bannerUrl, iconUrl });
      saveProjects();
      renderProjects();
      document.getElementById("title").value = "";
      document.getElementById("description").value = "";
      document.getElementById("bannerUrl").value = "";
      document.getElementById("iconUrl").value = "";
      document.getElementById("status").value = "Not Started";
    }

    function deleteProject(index) {
      if (confirm("Are you sure you want to delete this project?")) {
        projects.splice(index, 1);
        saveProjects();
        renderProjects();
      }
    }

    function openProject(index) {
  const proj = projects[index];
  const projectWindow = window.open("", "_blank");

  if (!projectWindow) {
    alert("Popup blocked. Please allow popups for this site.");
    return;
  }

  projectWindow.document.title = proj.title;

  const style = `
    body { font-family: sans-serif; padding: 20px; background: #f3f4f6; }
    h1 { color: #1f2937; }
    .flow-box { border-left: 4px solid #3b82f6; padding-left: 10px; margin: 10px 0; background: #fff; padding: 10px; border-radius: 8px; }
    img.banner { width: 100%; border-radius: 10px; margin-bottom: 15px; }
  `;

  const body = `
    ${proj.bannerUrl ? `<img class='banner' src='${proj.bannerUrl}' alt='Banner'>` : ''}
    <h1>${proj.title}</h1>
    <p>${proj.description}</p>
    <h2>Progress Flow</h2>
    <div class=\"flow-box\">Planning</div>
    <div class=\"flow-box\">Design</div>
    <div class=\"flow-box\">Development</div>
    <div class=\"flow-box\">Testing</div>
    <div class=\"flow-box\">Launch</div>
  `;

  const html = `
    <html>
      <head><style>${style}</style></head>
      <body>${body}</body>
    </html>
  `;

  projectWindow.document.open();
  projectWindow.document.write(html);
  projectWindow.document.close();
}
function openProject(index) {
  const proj = projects[index];
  const projectWindow = window.open("", "_blank");

  if (!projectWindow) {
    alert("Popup blocked. Please allow popups for this site.");
    return;
  }

  projectWindow.document.title = proj.title;

  const style = `
    body { font-family: sans-serif; padding: 20px; background: #f3f4f6; }
    h1 { color: #1f2937; }
    .flow-box { border-left: 4px solid #3b82f6; padding-left: 10px; margin: 10px 0; background: #fff; padding: 10px; border-radius: 8px; }
    img.banner { width: 100%; border-radius: 10px; margin-bottom: 15px; }
  `;

  const body = `
    ${proj.bannerUrl ? `<img class='banner' src='${proj.bannerUrl}' alt='Banner'>` : ''}
    <h1>${proj.title}</h1>
    <p>${proj.description}</p>
    <h2>Progress Flow</h2>
    <div class=\"flow-box\">Planning</div>
    <div class=\"flow-box\">Design</div>
    <div class=\"flow-box\">Development</div>
    <div class=\"flow-box\">Testing</div>
    <div class=\"flow-box\">Launch</div>
  `;

  const html = `
    <html>
      <head><style>${style}</style></head>
      <body>${body}</body>
    </html>
  `;

  projectWindow.document.open();
  projectWindow.document.write(html);
  projectWindow.document.close();
}
        <html>
        <head>
          <title>${proj.title}</title>
          <style>
            body { font-family: sans-serif; padding: 20px; background: #f3f4f6; }
            h1 { color: #1f2937; }
            .flow-box { border-left: 4px solid #3b82f6; padding-left: 10px; margin: 10px 0; background: #fff; padding: 10px; border-radius: 8px; }
            img.banner { width: 100%; border-radius: 10px; margin-bottom: 15px; }
          </style></head>
    <body>
      ${proj.bannerUrl ? `<img class='banner' src='${proj.bannerUrl}' alt='Banner'>` : ''}
      <h1>${proj.title}</h1>
      <p>${proj.description}</p>
      <h2>Progress Flow</h2>
      <div class="flow-box">Planning</div>
      <div class="flow-box">Design</div>
      <div class="flow-box">Development</div>
      <div class="flow-box">Testing</div>
      <div class="flow-box">Launch</div>
    </body>
    </html>
  `);
}

renderProjects();

  </script>
</body>
</html>